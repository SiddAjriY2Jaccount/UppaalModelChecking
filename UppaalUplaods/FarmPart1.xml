<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>// Place global declarations here
int waterlevel;
int switches;
chan press;

</declaration><template><name x="5" y="5">iotpump</name><declaration>// Place local declarations here.
</declaration><location id="id0" x="-168" y="-408"><name x="-178" y="-438">start</name></location><location id="id1" x="-128" y="-264"><name x="-144" y="-256">pumpwatermanual</name></location><location id="id2" x="40" y="-184"><name x="0" y="-176">pumpwaterlevel</name></location><location id="id3" x="32" y="-336"><name x="22" y="-366">idle</name></location><init ref="id0"/><transition><source ref="id0"/><target ref="id3"/><label kind="assignment" x="-144" y="-392">waterlevel = 370</label></transition><transition><source ref="id2"/><target ref="id2"/><label kind="guard" x="-144" y="-152">waterlevel &lt; 500</label><label kind="assignment" x="-200" y="-136">waterlevel = waterlevel + 10</label><nail x="-80" y="-192"/><nail x="-48" y="-96"/></transition><transition><source ref="id1"/><target ref="id3"/><label kind="synchronisation" x="-108" y="-315">press?</label><nail x="-24" y="-280"/></transition><transition><source ref="id1"/><target ref="id1"/><label kind="assignment" x="-376" y="-288">waterlevel = waterlevel + 10</label><nail x="-192" y="-336"/><nail x="-184" y="-216"/><nail x="-184" y="-216"/></transition><transition><source ref="id3"/><target ref="id1"/><label kind="synchronisation" x="-64" y="-296">press?</label></transition><transition><source ref="id3"/><target ref="id3"/><label kind="guard" x="-16" y="-416">waterlevel &gt; 400</label><label kind="assignment" x="64" y="-368">waterlevel = waterlevel - 10</label><nail x="-24" y="-384"/><nail x="80" y="-384"/><nail x="80" y="-384"/></transition><transition><source ref="id2"/><target ref="id3"/><label kind="guard" x="136" y="-272">waterlevel &gt;= 500</label><nail x="144" y="-272"/></transition><transition><source ref="id3"/><target ref="id2"/><label kind="guard" x="-16" y="-240">waterlevel &lt;= 400</label></transition></template><template><name>iotcontrol</name><declaration>clock switches;</declaration><location id="id4" x="-40" y="-176"><name x="-50" y="-206">idle</name></location><init ref="id4"/><transition><source ref="id4"/><target ref="id4"/><label kind="synchronisation" x="96" y="-176">press!</label><nail x="88" y="-232"/><nail x="88" y="-80"/><nail x="88" y="-80"/></transition></template><system>// Place template instantiations here.
Process1 = iotpump();
Process2 = iotcontrol();

// List one or more processes to be composed into a system.
system Process1, Process2;</system></nta>